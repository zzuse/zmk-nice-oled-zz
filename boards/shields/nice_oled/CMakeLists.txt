if(CONFIG_ZMK_DISPLAY AND CONFIG_NICE_VIEW_WIDGET_STATUS)
  zephyr_library_include_directories(${CMAKE_SOURCE_DIR}/include)
  zephyr_library_sources(custom_status_screen.c)
  zephyr_library_sources(assets/images.c)
  zephyr_library_sources(widgets/battery.c)
  zephyr_library_sources(widgets/output.c)
  zephyr_library_sources(widgets/keycode.c)
  zephyr_library_sources(widgets/util.c)

  if(NOT CONFIG_ZMK_SPLIT OR CONFIG_ZMK_SPLIT_ROLE_CENTRAL)
    target_sources_ifdef(CONFIG_NICE_OLED_WIDGET_HID_INDICATORS app PRIVATE widgets/hid_indicators.c)
    target_sources_ifdef(CONFIG_NICE_OLED_WIDGET_MODIFIERS_INDICATORS app PRIVATE widgets/modifiers.c)
    zephyr_library_sources(assets/luna_images.c)
    target_sources_ifdef(CONFIG_NICE_OLED_WIDGET_MASTER_TEST app PRIVATE widgets/luna_dev.c)
    target_sources_ifdef(CONFIG_NICE_OLED_WIDGET_WPM app PRIVATE widgets/luna.c)
    zephyr_library_sources(widgets/layer.c)
    zephyr_library_sources(widgets/profile.c)
    zephyr_library_sources(widgets/screen.c)
    zephyr_library_sources(widgets/wpm.c)
  else()
    zephyr_library_sources(assets/crystal.c)
    zephyr_library_sources(assets/vim.c)
    zephyr_library_sources(assets/vip_marcos.c)
    zephyr_library_sources(assets/pokemon.c)
    zephyr_library_sources(widgets/animation.c)
    zephyr_library_sources(widgets/screen_peripheral.c)
  endif()
endif()